<div class="dropdown dropdown-end">
  <!-- âœ… if user is logged in -->
  <ng-container *ngIf="user$ | async as user; else guestMenu">
    <div
      tabindex="0"
      role="button"
      class="btn btn-ghost btn-circle avatar w-10 rounded-full h-10 bg-secondary"
    >
      {{ user.username.charAt(0).toUpperCase() }}
    </div>

    <ul
      tabindex="-1"
      class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow"
    >
      <li>
        <div class="justify-between cursor-default">
          <p class="text-lg">Balance:</p>
          <p [ngClass]="balanceColor$ | async" class="text-lg">
            {{ user.Credit }}
          </p>
        </div>
      </li>

      <li>
        <a><p class="text-lg">Profile</p></a>
      </li>
      <li>
        <a class="text-lg cursor-pointer" (click)="logout()"> Logout </a>
      </li>
    </ul>
  </ng-container>
  <ng-template #guestMenu>
    <div class="flex gap-2">
      <button class="btn btn-outline btn-sm" routerLink="/auth/login">Login</button>
      <button class="btn btn-primary btn-sm" routerLink="/auth/register">Join Now</button>
    </div>
  </ng-template>
</div>
